<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VocÃª me Hipnotiza</title>
    <link rel="stylesheet" href="hipnose.css">
</head>
<body>
    <script>
        var w, m, c, C, W, H, r, i, j, s;
        var a = function(){
            document.getElementsByTagName("body")[0].appendChild(document.createElement("canvas"));

            w = window;
            m = Math;
            c = document.getElementsByTagName("canvas")[0];
            C = c.getContext("2d");
            W = c.width = w.innerWidth;
            H = c.height = w.innerHeight;
        };

        var f = function(t){
            t /= 100000;
            C.clearRect(0, 0, W, H);
            for(i = 0; i < H ; i++){
                s = i * t;
                C.fillStyle = "hsl(" + m.sin(s) * 360 * (i / H) + ", 80%, 60%)";
                C.fillRect(
                    m.cos(s) * i + W / 2 - s / 2,
                    m.sin(s) * i + H / 2 - s / 2,
                    s,
                    s
                );
            }
            r = requestAnimationFrame(f);
        };

        window.onload = function(){
            a();
            f();
            w.onresize = function(){
                cancelAnimationFrame(r);
                W = c.width = w.innerWidth;
                H = c.height = w.innerHeight;
                f();
            };
        };
    </script>
</body>
</html>